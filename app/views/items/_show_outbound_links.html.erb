<%
# WontoMedia - a wontology web application
# Copyright (C) 2010 - Glen E. Ivey
#    www.wontology.com
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU Affero General Public License version
# 3 as published by the Free Software Foundation.
#
# This program is distributed in the hope that it will be useful, but
# WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
# Affero General Public License for more details.
#
# You should have received a copy of the GNU Affero General Public License
# along with this program in the file COPYING and/or LICENSE.  If not,
# see "http://www.gnu.org/licenses/".
%>

<style>
  #outbound-links ul {
    margin: 0;
    padding: 0;
    padding-left: 0.25em;
    padding-bottom: 0.5ex;
  }
  #outbound-links li {
    white-space: nowrap;
    display: block;
  }
</style>
<div id="outbound-links" class="noncontent"
  style="width: 19.5%; float:right; display: inline; position: relative; top: -1.5ex;">
  <ul>
    <% if (@node.flags & Node::DATA_IS_UNALTERABLE) == 0 %>
      <li>
        <%= link_to 'Edit this node', edit_node_path(@node),
                    :rel => 'nofollow' -%><%=
        popup_help_icon "Help edit nodes", "WmHelp:Popup/NodeEdit" -%>
      </li>

      <li>
        <% if @edge_list.empty? %>
          <%= link_to 'Delete this node', node_path(@node),
                      :rel => 'nofollow',
                      :confirm => 'Are you sure?', :method => :delete -%><%=
          popup_help_icon "Help delete nodes", "WmHelp:Popup/NodeDelete" -%>
        <% else %>
          <span class="inactiveLink">
            <%= link_to_function "Can't delete this node",
                                 "cantDeleteNode_Popup()" -%><%=
          popup_help_icon "Help with can't-be-deleted nodes",
                          "WmHelp:Popup/NodeCantDelete" -%>
          </span>
        <% end %>
      </li>
    <% end %>

    <li>
      <%= link_to 'Show node list', nodes_path -%><%=
      popup_help_icon "Help, node list", "WmHelp:Popup/ShowNodes" -%>
    </li>

    <li>
      <%= link_to 'Add a new node', new_node_path, :rel => 'nofollow' -%><%=
      popup_help_icon "Help, create node", "WmHelp:Popup/NodeAdd" -%>
    </li>

    <li>
      <%= link_to 'Show edge list', edges_path -%><%=
      popup_help_icon "Help, edge list", "WmHelp:Popup/ShowEdges" -%>
    </li>

    <li>
      <%= link_to 'Add a new edge', new_edge_path, :rel => 'nofollow' -%><%=
      popup_help_icon "Help, create edge", "WmHelp:Popup/EdgeAdd" -%>
    </li>
  </ul>
</div>
