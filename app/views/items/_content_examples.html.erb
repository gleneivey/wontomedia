<%
# WontoMedia - a wontology web application
# Copyright (C) 2010 - Glen E. Ivey
#    www.wontology.com
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU Affero General Public License version
# 3 as published by the Free Software Foundation.
#
# This program is distributed in the hope that it will be useful, but
# WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
# Affero General Public License for more details.
#
# You should have received a copy of the GNU Affero General Public License
# along with this program in the file COPYING and/or LICENSE.  If not,
# see "http://www.gnu.org/licenses/".
%>

<% if @display_unimplemented %>
  <p class="unimplemented">[The purpose of this area is to highlight
    "samples" of the local installation's content.  For now, we're
    displaying the complete set of non-Property items.]</p>
<% end %>

<div class="subheading">Recently Added Items</div>
<style>
  .item-title {
    font-size: 120%;
    font-weight: bold;
    margin: 0;
    white-space: nowrap;
  }
  .item-desc {
    margin: 0;
    margin-bottom: 2ex;
  }
</style>

<% nouns_listed = 0
   @nouns.each do |item| %>
     <p class="item-title">
       <%= link_to "#{h filter_parenthetical item.title}",
             item_by_name_path(item.name) %>
     </p>
     <p class="item-desc">
       <% desc = h item.description
          if desc.length > 180
            desc = desc[0,180] + '&hellip;'
          end
       %>
       <%= desc %>
     </p>

<%   break if (nouns_listed += 1) >= 20
   end %>
